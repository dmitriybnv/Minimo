key = 0;

snakeColumn = 0;

snakeData = 1;

func drawSnakeOnce
    GPUSelect(snakeColumn)

    GPUAdd(snakeData)
endfunc

func handleKeypress
    tempColumn = snakeColumn;

    tempData = snakeData;

    changeFlag = 0;

    if (key == 1)
        if (snakeColumn > 0)
            changeFlag = 1;

            tempColumn = tempColumn - 1;
        endif
    endif

    if (key == 3)
        if (snakeColumn < 19)
            changeFlag = 1;

            tempColumn = tempColumn + 1;
        endif
    endif

    if (key == 4)
        if (snakeData < 128)
            changeFlag = 1;

            shiftLeft(tempData)
        endif
    endif

    if (key == 2)
        if (snakeData > 1)
            changeFlag = 1;

            shiftRight(tempData)
        endif
    endif

    if (changeFlag == 1)
        GPUSelect(snakeColumn)

        GPUSubtract(snakeData)

        snakeColumn = tempColumn;

        snakeData = tempData;

        GPUSelect(snakeColumn)

        GPUAdd(snakeData)
    endif
endfunc

drawSnakeOnce()

#loop#
    keyboardRead(key)

    handleKeypress()

    keyboardClear()

    goto loop$